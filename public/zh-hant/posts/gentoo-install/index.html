<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰ | Zakk's Homepage</title><meta name=keywords content="Gentoo,Linux,OpenRC,systemd,KDE,GNOME,SSH,Wayland,Btrfs,UEFI,NVIDIA,AMD,Intel,iwd,wpa_supplicant"><meta name=description content="
  
  
    ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰
    0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”
      
        0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰
        0.2 è£½ä½œ USB å®‰è£ç¢Ÿ
      
    
    1. é–‹æ©Ÿèˆ‡ç¶²è·¯
      
        1.1 ç¢ºèª UEFI / BIOS
        1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰
        1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰
      
    
    2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰
    3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰
      
        3.1 æ ¼å¼åŒ–
        3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰
      
    
    4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot
      
        4.1 é¸æ“‡ Stage3
        4.2 ä¸‹è¼‰èˆ‡è§£å£“
        4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰
        4.4 é€²å…¥ chroot
      
    
    5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰
      
        5.1 åŒæ­¥ Portage æ¨¹
        5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰
        5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰
      
    
    6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰
      
        6.1 æŸ¥è©¢èˆ‡ç†è§£ USE
        6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰
        6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰
        6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰
      
    
    7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰
    8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰
    9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰
      
        9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰
        9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰
      
    
    10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰
    11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰
    12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰
    13. Wayland / X11 é¸æ“‡èˆ‡ USE
    14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼
    15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰
    16. ä½¿ç”¨è€…èˆ‡ sudo
    17. SSHï¼ˆå¯é¸ï¼‰
    18. é‡é–‹æ©Ÿ
  


ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰

CPUï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰
ä¸»æ©Ÿæ¿ï¼šASUS ROG STRIX X670E-A GAMING WIFI
RAMï¼š64GB DDR5
GPUï¼šNVIDIA RTX 4080 SUPER + AMD iGPU
å„²å­˜ï¼šNVMe SSD
é›™ç³»çµ±ï¼šWindows 11 + Gentoo


ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚"><meta name=author content><link rel=canonical href=https://zakk.au/zh-hant/posts/gentoo-install/><link crossorigin=anonymous href=/assets/css/stylesheet.643885fd8480d5564c70ecbcd3a455f033104015abf6975cbd4cb0ea3b0445ad.css integrity="sha256-ZDiF/YSA1VZMcOy806RV8DMQQBWr9pdcvUyw6jsERa0=" rel="preload stylesheet" as=style><link rel=icon href=https://zakk.au/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zakk.au/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zakk.au/favicon-32x32.png><link rel=apple-touch-icon href=https://zakk.au/apple-touch-icon.png><link rel=mask-icon href=https://zakk.au/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zakk.au/zh-hant/posts/gentoo-install/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://zakk.au/zh-hant/posts/gentoo-install/"><meta property="og:site_name" content="Zakk's Homepage"><meta property="og:title" content="Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰"><meta property="og:description" content=" ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ 0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«” 0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰ 0.2 è£½ä½œ USB å®‰è£ç¢Ÿ 1. é–‹æ©Ÿèˆ‡ç¶²è·¯ 1.1 ç¢ºèª UEFI / BIOS 1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰ 1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰ 2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰ 3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰ 3.1 æ ¼å¼åŒ– 3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰ 4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot 4.1 é¸æ“‡ Stage3 4.2 ä¸‹è¼‰èˆ‡è§£å£“ 4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰ 4.4 é€²å…¥ chroot 5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰ 5.1 åŒæ­¥ Portage æ¨¹ 5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰ 5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰ 6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰ 6.1 æŸ¥è©¢èˆ‡ç†è§£ USE 6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰ 6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰ 6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰ 7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰ 8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰ 9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰ 9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰ 9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰ 10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰ 11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰ 12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰ 13. Wayland / X11 é¸æ“‡èˆ‡ USE 14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼ 15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰ 16. ä½¿ç”¨è€…èˆ‡ sudo 17. SSHï¼ˆå¯é¸ï¼‰ 18. é‡é–‹æ©Ÿ ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ CPUï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰ ä¸»æ©Ÿæ¿ï¼šASUS ROG STRIX X670E-A GAMING WIFI RAMï¼š64GB DDR5 GPUï¼šNVIDIA RTX 4080 SUPER + AMD iGPU å„²å­˜ï¼šNVMe SSD é›™ç³»çµ±ï¼šWindows 11 + Gentoo ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="zh-hant"><meta property="article:published_time" content="2025-09-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-09-01T00:00:00+00:00"><meta property="article:tag" content="Gentoo"><meta property="article:tag" content="Linux"><meta property="article:tag" content="OpenRC"><meta property="article:tag" content="Systemd"><meta property="article:tag" content="KDE"><meta property="article:tag" content="GNOME"><meta name=twitter:card content="summary"><meta name=twitter:title content="Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰"><meta name=twitter:description content="
  
  
    ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰
    0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”
      
        0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰
        0.2 è£½ä½œ USB å®‰è£ç¢Ÿ
      
    
    1. é–‹æ©Ÿèˆ‡ç¶²è·¯
      
        1.1 ç¢ºèª UEFI / BIOS
        1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰
        1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰
      
    
    2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰
    3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰
      
        3.1 æ ¼å¼åŒ–
        3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰
      
    
    4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot
      
        4.1 é¸æ“‡ Stage3
        4.2 ä¸‹è¼‰èˆ‡è§£å£“
        4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰
        4.4 é€²å…¥ chroot
      
    
    5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰
      
        5.1 åŒæ­¥ Portage æ¨¹
        5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰
        5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰
      
    
    6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰
      
        6.1 æŸ¥è©¢èˆ‡ç†è§£ USE
        6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰
        6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰
        6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰
      
    
    7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰
    8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰
    9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰
      
        9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰
        9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰
      
    
    10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰
    11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰
    12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰
    13. Wayland / X11 é¸æ“‡èˆ‡ USE
    14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼
    15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰
    16. ä½¿ç”¨è€…èˆ‡ sudo
    17. SSHï¼ˆå¯é¸ï¼‰
    18. é‡é–‹æ©Ÿ
  


ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰

CPUï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰
ä¸»æ©Ÿæ¿ï¼šASUS ROG STRIX X670E-A GAMING WIFI
RAMï¼š64GB DDR5
GPUï¼šNVIDIA RTX 4080 SUPER + AMD iGPU
å„²å­˜ï¼šNVMe SSD
é›™ç³»çµ±ï¼šWindows 11 + Gentoo


ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Zh-Hants","item":"https://zakk.au/zh-hant/"},{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://zakk.au/zh-hant/posts/"},{"@type":"ListItem","position":3,"name":"Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰","item":"https://zakk.au/zh-hant/posts/gentoo-install/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰","name":"Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰","description":" ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ 0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«” 0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰ 0.2 è£½ä½œ USB å®‰è£ç¢Ÿ 1. é–‹æ©Ÿèˆ‡ç¶²è·¯ 1.1 ç¢ºèª UEFI / BIOS 1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰ 1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰ 2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰ 3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰ 3.1 æ ¼å¼åŒ– 3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰ 4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot 4.1 é¸æ“‡ Stage3 4.2 ä¸‹è¼‰èˆ‡è§£å£“ 4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰ 4.4 é€²å…¥ chroot 5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰ 5.1 åŒæ­¥ Portage æ¨¹ 5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰ 5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰ 6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰ 6.1 æŸ¥è©¢èˆ‡ç†è§£ USE 6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰ 6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰ 6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰ 7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰ 8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰ 9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰ 9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰ 9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰ 10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰ 11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰ 12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰ 13. Wayland / X11 é¸æ“‡èˆ‡ USE 14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼ 15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰ 16. ä½¿ç”¨è€…èˆ‡ sudo 17. SSHï¼ˆå¯é¸ï¼‰ 18. é‡é–‹æ©Ÿ ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ CPUï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰ ä¸»æ©Ÿæ¿ï¼šASUS ROG STRIX X670E-A GAMING WIFI RAMï¼š64GB DDR5 GPUï¼šNVIDIA RTX 4080 SUPER + AMD iGPU å„²å­˜ï¼šNVMe SSD é›™ç³»çµ±ï¼šWindows 11 + Gentoo ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚\n","keywords":["Gentoo","Linux","OpenRC","systemd","KDE","GNOME","SSH","Wayland","Btrfs","UEFI","NVIDIA","AMD","Intel","iwd","wpa_supplicant"],"articleBody":" ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ 0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«” 0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰ 0.2 è£½ä½œ USB å®‰è£ç¢Ÿ 1. é–‹æ©Ÿèˆ‡ç¶²è·¯ 1.1 ç¢ºèª UEFI / BIOS 1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰ 1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰ 2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰ 3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰ 3.1 æ ¼å¼åŒ– 3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰ 4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot 4.1 é¸æ“‡ Stage3 4.2 ä¸‹è¼‰èˆ‡è§£å£“ 4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰ 4.4 é€²å…¥ chroot 5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰ 5.1 åŒæ­¥ Portage æ¨¹ 5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰ 5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰ 6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰ 6.1 æŸ¥è©¢èˆ‡ç†è§£ USE 6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰ 6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰ 6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰ 7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰ 8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰ 9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰ 9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰ 9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰ 10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰ 11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰ 12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰ 13. Wayland / X11 é¸æ“‡èˆ‡ USE 14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼ 15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰ 16. ä½¿ç”¨è€…èˆ‡ sudo 17. SSHï¼ˆå¯é¸ï¼‰ 18. é‡é–‹æ©Ÿ ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰ CPUï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰ ä¸»æ©Ÿæ¿ï¼šASUS ROG STRIX X670E-A GAMING WIFI RAMï¼š64GB DDR5 GPUï¼šNVIDIA RTX 4080 SUPER + AMD iGPU å„²å­˜ï¼šNVMe SSD é›™ç³»çµ±ï¼šWindows 11 + Gentoo ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚\n0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«” å®˜æ–¹é¡åƒåˆ—è¡¨ï¼šhttps://www.gentoo.org/downloads/mirrors/\nä¸­åœ‹å¤§é™¸ï¼šé€šå¸¸å¿…é ˆä½¿ç”¨å¢ƒå…§é¡åƒï¼ˆä¸­ç§‘å¤§ USTC / æ¸…è¯ TUNA / é˜¿é‡Œé›²ï¼‰ï¼Œå¦å‰‡ä¸‹è¼‰é€Ÿåº¦èˆ‡é€£ç·šç©©å®šæ€§å¯èƒ½ä¸è¶³ã€‚ å°ç£ï¼šå»ºè­°ä½¿ç”¨ NCHCï¼›æ¾³æ´²ï¼šAARNETã€‚ 0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰ wget https://free.nchc.org.tw/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/install-amd64-minimal.iso è‹¥åœ¨ä¸­åœ‹å¤§é™¸ï¼Œå¯å°‡ç¶²å€æ›æˆï¼šhttps://mirrors.ustc.edu.cn/gentoo/ã€https://mirrors.tuna.tsinghua.edu.cn/gentoo/ æˆ– https://mirrors.aliyun.com/gentoo/ã€‚\n0.2 è£½ä½œ USB å®‰è£ç¢Ÿ Linuxï¼ˆddï¼‰ï¼š\nsudo dd if=install-amd64-minimal.iso of=/dev/sdX bs=4M status=progress oflag=sync å°‡ sdX æ›æˆ USB è£ç½®åç¨±ï¼ˆå¦‚ /dev/sdbï¼‰ã€‚\nWindowsï¼ˆRufusï¼‰ï¼šhttps://rufus.ie/\né¸æ“‡ USB èˆ‡ Gentoo ISO æ¨¡å¼é¸ dd æ¨¡å¼ï¼ˆé ISO æ¨¡å¼ï¼‰ Start 1. é–‹æ©Ÿèˆ‡ç¶²è·¯ 1.1 ç¢ºèª UEFI / BIOS ls /sys/firmware/efi æœ‰è¼¸å‡º â†’ UEFIï¼›æ²’æœ‰ â†’ Legacy BIOSã€‚\n1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰ ip a dhcpcd eno1 ping -c 3 gentoo.org 1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰ wpa_supplicantï¼š\niw dev wpa_passphrase \"SSID\" \"PASSWORD\" | tee /etc/wpa_supplicant/wpa_supplicant.conf wpa_supplicant -B -i wlp9s0 -c /etc/wpa_supplicant/wpa_supplicant.conf dhcpcd wlp9s0 ping -c 3 gentoo.org iwdï¼ˆæ›´ç°¡å–®ï¼Œæ¨è–¦æ–°æ‰‹ï¼‰ï¼š\nemerge net-wireless/iwd systemctl enable iwd systemctl start iwd iwctl [iwd]# device list [iwd]# station wlp9s0 scan [iwd]# station wlp9s0 get-networks [iwd]# station wlp9s0 connect SSID è‹¥ WPA3 ä¸ç©©ï¼Œå…ˆæ”¹ç”¨ WPA2 è©¦è©¦ã€‚\n2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰ æª¢è¦–ç£ç¢Ÿï¼š\nlsblk -o NAME,SIZE,TYPE,MOUNTPOINT ç¯„ä¾‹ï¼š\nnvme0n1 476G disk â”œâ”€nvme0n1p1 512M part â”œâ”€nvme0n1p2 1G part â”œâ”€nvme0n1p3 100G part â””â”€nvme0n1p4 375G part å•Ÿå‹•åˆ†å‰²å·¥å…·ï¼ˆå¯é¸ï¼‰ï¼š\ncfdisk /dev/nvme0n1 å»ºè­°åˆ†å‰²ï¼ˆUEFIï¼‰ï¼š\nå¤§å° æª”æ¡ˆç³»çµ± æ›è¼‰é» èªªæ˜ 512M FAT32 /efi ESPï¼ˆUEFI ç³»çµ±åˆ†å‰²å€ï¼‰ 1G ext4 /boot kernelã€initramfs 100G+ ext4 / XFS / Btrfs / æ ¹åˆ†å‰²å€ å…¶é¤˜ ext4 / XFS / Btrfs /home ä½¿ç”¨è€…å®¶ç›®éŒ„ ä½ ä¹Ÿå¯ä»¥é¸æ“‡åªæœ‰ / èˆ‡ /efi çš„ç°¡åŒ–æ–¹æ¡ˆã€‚\n3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰ 3.1 æ ¼å¼åŒ– ext4ï¼š\nmkfs.ext4 -L root /dev/nvme0n1p3 mkfs.ext4 -L home /dev/nvme0n1p4 XFSï¼š\nmkfs.xfs -L root /dev/nvme0n1p3 mkfs.xfs -L home /dev/nvme0n1p4 Btrfsï¼ˆå¿…è¦æ™‚å¯ç”¨ -f å¼·åˆ¶è¦†è“‹ï¼Œâš ï¸ æœƒæŠ¹é™¤è©²åˆ†å‰²å€è³‡æ–™ï¼‰ï¼š\nmkfs.btrfs -L rootfs /dev/nvme0n1p3 mkfs.btrfs -L home /dev/nvme0n1p4 # éœ€è¦å¼·åˆ¶æ™‚ï¼šmkfs.btrfs -f -L rootfs /dev/nvme0n1p3 3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰ ext4 / XFSï¼š\nmount /dev/nvme0n1p3 /mnt/gentoo mkdir -p /mnt/gentoo/{boot,home,efi} mount /dev/nvme0n1p4 /mnt/gentoo/home mount /dev/nvme0n1p2 /mnt/gentoo/boot mount /dev/nvme0n1p1 /mnt/gentoo/efi Btrfsï¼ˆå­å·ï¼‰ï¼š\nmount /dev/nvme0n1p3 /mnt/gentoo btrfs subvolume create /mnt/gentoo/@ btrfs subvolume create /mnt/gentoo/@home umount /mnt/gentoo mount -o compress=zstd,subvol=@ /dev/nvme0n1p3 /mnt/gentoo mkdir -p /mnt/gentoo/{boot,home,efi} mount -o subvol=@home /dev/nvme0n1p3 /mnt/gentoo/home mount /dev/nvme0n1p2 /mnt/gentoo/boot mount /dev/nvme0n1p1 /mnt/gentoo/efi 4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot 4.1 é¸æ“‡ Stage3 å»ºè­°ä¸‹è¼‰ æ¨™æº– Stage3ï¼ˆglibcï¼‰ï¼Œä¾éœ€æ±‚é¸ OpenRC æˆ– systemdã€‚ ã€Œdesktopã€Stage3 åªæ˜¯é è¨­æ¡Œé¢åŒ– USEï¼Œéå¿…é ˆï¼›ç”¨æ¨™æº– Stage3 + æ­£ç¢º Profile æ›´éˆæ´»ã€‚ 4.2 ä¸‹è¼‰èˆ‡è§£å£“ cd /mnt/gentoo links https://www.gentoo.org/downloads/mirrors/ tar xpvf stage3-*.tar.xz --xattrs-include='*.*' --numeric-owner åŒ ISOï¼Œä¸€æ¨£å¯é¸æ“‡å°±è¿‘çš„é¡åƒæºä¸‹è¼‰ Stage3ã€‚\n4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰ OpenRCï¼š\nmount -t proc /proc /mnt/gentoo/proc mount --rbind /sys /mnt/gentoo/sys mount --rbind /dev /mnt/gentoo/dev systemdï¼š\nmount -t proc /proc /mnt/gentoo/proc mount --rbind /sys /mnt/gentoo/sys \u0026\u0026 mount --make-rslave /mnt/gentoo/sys mount --rbind /dev /mnt/gentoo/dev \u0026\u0026 mount --make-rslave /mnt/gentoo/dev mount --rbind /run /mnt/gentoo/run \u0026\u0026 mount --make-rslave /mnt/gentoo/run 4.4 é€²å…¥ chroot chroot /mnt/gentoo /bin/bash source /etc/profile export PS1=\"(chroot) $PS1\" 5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰ 5.1 åŒæ­¥ Portage æ¨¹ emerge-webrsync emerge --sync 5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰ äº’å‹•å·¥å…·ï¼š\nemerge --ask app-portage/mirrorselect mirrorselect -i -o \u003e\u003e /etc/portage/make.conf æ‰‹å‹•æŒ‡å®šï¼ˆå»ºè­°æœ€çµ‚åªä¿ç•™ä¸€æ¢ï¼‰ï¼š\necho 'GENTOO_MIRRORS=\"https://free.nchc.org.tw/gentoo/\"' \u003e\u003e /etc/portage/make.conf âš ï¸ é¿å…é‡è¤‡èˆ‡è¡çªï¼šmirrorselect å¯èƒ½åŠ å…¥å¤šæ¢é¡åƒï¼Œå»ºè­°æœ€å¾Œåƒ…ä¿ç•™é€Ÿåº¦æœ€å¿«çš„ä¸€æ¢ã€‚\n5.3 /etc/portage/make.conf å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰ # ç·¨è­¯å™¨åƒæ•¸ï¼šO2 èˆ‡ pipe è¶³å¤ ï¼Œå¤šæ•¸æƒ…æ³ä¸éœ€è¦ -Ofast COMMON_FLAGS=\"-march=native -O2 -pipe\" # å¹³è¡Œç·¨è­¯ï¼šé€šå¸¸è¨­æˆ CPU åŸ·è¡Œç·’æ•¸ MAKEOPTS=\"-j32\" # Portage é è¨­è¡Œç‚ºï¼šäº’å‹•ã€è©³ç´°ã€æ‹‰é€²å»ºç½®ä¾è³´ã€å®Œæ•´åœ– EMERGE_DEFAULT_OPTS=\"--ask --verbose --with-bdeps=y --complete-graph=y\" # é¡åƒï¼šè«‹æœ€çµ‚åƒ…ä¿ç•™ä¸€æ¢ï¼ˆä¸‹ä¾‹ç‚ºå°ç£ NCHCï¼‰ GENTOO_MIRRORS=\"https://free.nchc.org.tw/gentoo/\" # å…¨åŸŸ USEï¼ˆå…©å¥—å…¸å‹é¸æ“‡äºŒæ“‡ä¸€ï¼›ä¹Ÿå¯åŒæ™‚ä¿ç•™ xwayland åšç›¸å®¹ï¼‰ USE=\"wayland egl pipewire vulkan\" # USE=\"X xwayland egl pipewire vulkan\" # é¡¯ç¤ºå¡ï¼šè«‹åªå¡«ä½ çš„ç¡¬é«”ï¼ˆä¸è¦å…¨æŠ„ï¼‰ # ä¾‹ï¼šNVIDIA æ–°å¡ VIDEO_CARDS=\"nvidia\" # ä¾‹ï¼šAMD # VIDEO_CARDS=\"amdgpu radeonsi\" # ä¾‹ï¼šIntel # VIDEO_CARDS=\"intel i965 iris\" # ä¾‹ï¼šè€ NVIDIA æˆ–æƒ³ç”¨é–‹æº # VIDEO_CARDS=\"nouveau\" # æ¥å—æˆæ¬Šï¼šæ–°æ‰‹å¯æš«æ™‚é–‹æ”¾å…¨éƒ¨ï¼Œä¹‹å¾Œç´°åŒ–è‡³ package.license ACCEPT_LICENSE=\"*\" 6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰ 6.1 æŸ¥è©¢èˆ‡ç†è§£ USE emerge -pv firefox é–±è®€è¼¸å‡ºä¸­ USE=\"...\" èˆ‡é®ç½©æç¤ºï¼Œäº†è§£éœ€è¦å•Ÿç”¨æˆ–åœç”¨å“ªäº›æ——æ¨™ã€‚\n6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰ echo \"media-video/ffmpeg X wayland\" \u003e\u003e /etc/portage/package.use/ffmpeg 6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰ echo \"www-client/google-chrome google-chrome\" \u003e\u003e /etc/portage/package.license 6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰ echo \"www-client/google-chrome ~amd64\" \u003e\u003e /etc/portage/package.accept_keywords åƒ…åœ¨éœ€è¦è¼ƒæ–°ï¼ˆæ¸¬è©¦ï¼‰ç‰ˆæœ¬æ™‚ä½¿ç”¨ã€‚\n7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰ åˆ—å‡ºå¯ç”¨ Profileï¼š\neselect profile list å¸¸è¦‹é¸æ“‡ï¼š\nKDE + systemdï¼šdefault/linux/amd64/23.0/desktop/plasma/systemd GNOME + systemdï¼šdefault/linux/amd64/23.0/desktop/gnome/systemd æ¡Œé¢ + OpenRCï¼šdefault/linux/amd64/23.0/desktop æˆ–å°æ‡‰ plasma/openrc è®Šé«” ä¼ºæœå™¨ï¼šdefault/linux/amd64/23.0ï¼ˆè¼ƒç²¾ç°¡ï¼‰ å¥—ç”¨ä¸¦æ›´æ–°ç³»çµ±ï¼š\neselect profile set \u003cç·¨è™Ÿ\u003e emerge -avuDN @world Profile æœƒè¨­å®šä¸€çµ„é è¨­ USE èˆ‡æ–¹å‘ï¼›éœ€è¦æ™‚å¯é€é package.use åšç´°éƒ¨å¾®èª¿ã€‚\n8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰ èªè¨€ï¼ˆ/etc/locale.genï¼‰ï¼š\nen_US.UTF-8 UTF-8 zh_TW.UTF-8 UTF-8 ç”¢ç”Ÿä¸¦å¥—ç”¨ï¼š\nlocale-gen eselect locale set en_US.utf8 æ™‚å€ï¼š\nls /usr/share/zoneinfo echo \"Asia/Taipei\" \u003e /etc/timezone emerge --config sys-libs/timezone-data å®Œæ•´æ¸…å–®ï¼šhttps://en.wikipedia.org/wiki/List_of_tz_database_time_zones\nå­—å‹èˆ‡è¼¸å…¥æ³•ï¼ˆå¯é¸ï¼‰ï¼š\nemerge media-fonts/noto-cjk emerge app-i18n/fcitx5 app-i18n/fcitx5-rime 9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰ 9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰ emerge sys-kernel/gentoo-kernel-bin 9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰ emerge sys-kernel/gentoo-sources cd /usr/src/linux make menuconfig # å•Ÿç”¨ä½ çš„ç¡¬é«”ï¼šNVMeã€ext4ã€ï¼ˆéœ€è¦å‰‡ï¼‰Btrfsã€GPUã€USBã€ç¶²å¡ç­‰ make -j\"$(nproc)\" make modules_install make install å¯é¸ï¼šå»ºç«‹ initramfsï¼ˆBtrfsã€LUKSã€RAID æˆ–æ¨¡çµ„åŒ–é©…å‹•å»ºè­°ä½¿ç”¨ï¼‰\nç”¨ dracutï¼š emerge sys-kernel/dracut dracut --kver \"$(ls /lib/modules | sort -V | tail -1)\" ç”¨ genkernelï¼š emerge sys-kernel/genkernel genkernel initramfs 10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰ æŸ¥è©¢ UUIDï¼š\nblkid lsblk -f ext4ï¼š\nUUID= /efi vfat noatime,umask=0077 0 2 UUID= /boot ext4 noatime 0 2 UUID= / ext4 noatime 0 1 UUID= /home ext4 noatime 0 2 Btrfsï¼ˆå­å·ï¼‰ï¼š\nUUID= /efi vfat noatime,umask=0077 0 2 UUID= / btrfs noatime,compress=zstd,subvol=@ 0 1 UUID= /home btrfs noatime,compress=zstd,subvol=@home 0 2 11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰ emerge grub efibootmgr grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=Gentoo emerge --ask sys-boot/os-prober echo 'GRUB_DISABLE_OS_PROBER=false' \u003e\u003e /etc/default/grub grub-mkconfig -o /boot/grub/grub.cfg è‹¥ root ç”¨ Btrfsï¼Œå»ºè­°å®‰è£å·¥å…·ï¼š\nemerge --ask sys-fs/btrfs-progs 12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰ systemdï¼ˆæ¡Œé¢å¸¸ç”¨ï¼‰ï¼š\nemerge net-misc/networkmanager systemctl enable NetworkManager OpenRCï¼ˆå‚³çµ±ï¼‰ï¼š\nemerge net-misc/dhcpcd rc-update add dhcpcd default 13. Wayland / X11 é¸æ“‡èˆ‡ USE Wayland ç‚ºä¸»ï¼š\nUSE=\"wayland egl pipewire vulkan\" X11 ç›¸å®¹æ€§è¼ƒä½³ï¼ˆèˆŠç¨‹å¼ï¼éƒ¨åˆ†éŠæˆ²ï¼‰ï¼š\nUSE=\"X xwayland egl pipewire vulkan\" å…©è€…éƒ½å¯ç”¨ï¼Œä½†è«‹ä¾éœ€æ±‚èª¿æ•´ã€‚\n14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼ NVIDIA å°ˆæœ‰é©…å‹•ï¼š\nVIDEO_CARDS=\"nvidia\" emerge x11-drivers/nvidia-drivers NVIDIA é–‹æº nouveauï¼ˆæ•ˆèƒ½è¼ƒä½ï¼‰ï¼š\nVIDEO_CARDS=\"nouveau\" emerge x11-base/xorg-drivers AMDï¼š\nVIDEO_CARDS=\"amdgpu radeonsi\" emerge mesa vulkan-loader Intelï¼š\nVIDEO_CARDS=\"intel i965 iris\" emerge mesa vulkan-loader CPU å¾®ç¢¼ï¼š\n# Intel emerge sys-firmware/intel-microcode # AMD emerge sys-firmware/amd-ucode 15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰ KDE Plasmaï¼š\nemerge kde-plasma/plasma-meta x11-misc/sddm x11-base/xwayland systemctl enable sddm GNOMEï¼š\nemerge gnome-base/gnome gnome-base/gdm systemctl enable gdm 16. ä½¿ç”¨è€…èˆ‡ sudo passwd useradd -m -G wheel,audio,video,usb -s /bin/bash zakk passwd zakk emerge app-admin/sudo echo \"%wheel ALL=(ALL) ALL\" \u003e\u003e /etc/sudoers âš ï¸ æ³¨æ„ï¼šé€™è£¡çš„ zakk åªæ˜¯ç¯„ä¾‹ï¼Œè«‹æ›¿æ›ç‚ºä½ è‡ªå·±çš„ä½¿ç”¨è€…åç¨±ã€‚\n17. SSHï¼ˆå¯é¸ï¼‰ emerge net-misc/openssh systemctl enable sshd \u0026\u0026 systemctl start sshd 18. é‡é–‹æ©Ÿ exit umount -R /mnt/gentoo reboot ğŸ’¡ å¸¸è¦‹å•é¡Œ FAQ ä¸‹è¼‰æ…¢ï¼è¶…æ™‚ï¼šä¸­åœ‹å¤§é™¸è«‹ç”¨å¢ƒå…§é¡åƒï¼›å…¶ä»–åœ°å€é¸æœ€è¿‘é¡åƒã€‚ Wiâ€‘Fi é€£ä¸ä¸Šï¼šå…ˆæª¢æŸ¥é©…å‹•èˆ‡ä»‹é¢åç¨±ï¼ŒWPA3 ä¸ç©©æ”¹ WPA2ã€‚ Wayland / X11ï¼šAMD/Intel æ–°å¹³å°å¯å„ªå…ˆ Waylandï¼›ç›¸å®¹æ€§éœ€æ±‚é¸ X11 + xwaylandã€‚ NVIDIA é¸æ“‡ï¼šRTX 4000 å»ºè­° nvidia-driversï¼›èˆŠå¡æˆ–ç´”é–‹æºå–å‘å¯è©¦ nouveauï¼ˆæ•ˆèƒ½è¼ƒä½ï¼‰ã€‚ USE è¡çªï¼šemerge -pv \u003cå¥—ä»¶\u003e çœ‹æç¤ºï¼Œå°‡å»ºè­°çš„ USE å¯«å…¥ /etc/portage/package.use/ã€‚ License é˜»æ“‹ï¼šæŠŠæˆæ¬ŠåŠ å…¥ /etc/portage/package.licenseã€‚ éœ€è¦æ–°ç‰ˆï¼šç”¨ /etc/portage/package.accept_keywords è§£é–ã€‚ Btrfs + LUKS/RAIDï¼šå»ºè­°ä½¿ç”¨ initramfsï¼ˆdracut æˆ– genkernelï¼‰ã€‚ ğŸ“ åƒè€ƒ Gentoo Handbookï¼šhttps://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation Bitbiliï¼šhttps://bitbili.net/gentoo-linux-installation-and-usage-tutorial.html Rufusï¼šhttps://rufus.ie/ æ™‚å€åˆ—è¡¨ï¼ˆtz databaseï¼‰ï¼šhttps://en.wikipedia.org/wiki/List_of_tz_database_time_zones ","wordCount":"1066","inLanguage":"en","datePublished":"2025-09-01T00:00:00Z","dateModified":"2025-09-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://zakk.au/zh-hant/posts/gentoo-install/"},"publisher":{"@type":"Organization","name":"Zakk's Homepage","logo":{"@type":"ImageObject","url":"https://zakk.au/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zakk.au/ accesskey=h title="Zakk's Homepage (Alt + H)">Zakk's Homepage</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://zakk.au/zh-hant/ title=æ¼¢èª aria-label=æ¼¢èª>Zh-Hant</a></li></ul></div></div><ul id=menu><li><a href=https://zakk.au/ title=Home><span>Home</span></a></li><li><a href=https://zakk.au/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://zakk.au/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zakk.au/>Home</a>&nbsp;Â»&nbsp;<a href=https://zakk.au/zh-hant/>Zh-Hants</a>&nbsp;Â»&nbsp;<a href=https://zakk.au/zh-hant/posts/>æ–‡ç« </a></div><h1 class="post-title entry-hint-parent">Gentoo å®‰è£æŒ‡å—ï¼ˆæ–°æ‰‹ï¼‰</h1><div class=post-meta><span title='2025-09-01 00:00:00 +0000 UTC'>September 1, 2025</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#-æˆ‘çš„é›»è…¦é…ç½®ç¤ºä¾‹>ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰</a></li><li><a href=#0-ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”>0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”</a><ul><li><a href=#01-ä¸‹è¼‰-isoç¤ºä¾‹å°ç£-nchc>0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰</a></li><li><a href=#02-è£½ä½œ-usb-å®‰è£ç¢Ÿ>0.2 è£½ä½œ USB å®‰è£ç¢Ÿ</a></li></ul></li><li><a href=#1-é–‹æ©Ÿèˆ‡ç¶²è·¯>1. é–‹æ©Ÿèˆ‡ç¶²è·¯</a><ul><li><a href=#11-ç¢ºèª-uefi--bios>1.1 ç¢ºèª UEFI / BIOS</a></li><li><a href=#12-æœ‰ç·šç¶²è·¯live-ç’°å¢ƒ>1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰</a></li><li><a href=#13-wifiå…©ç¨®å·¥å…·æ“‡ä¸€>1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰</a></li></ul></li><li><a href=#2-ç£ç¢Ÿåˆ†å‰²lsblk-èˆ‡-cfdisk>2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰</a></li><li><a href=#3-æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ext4--xfs--btrfs>3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰</a><ul><li><a href=#31-æ ¼å¼åŒ–>3.1 æ ¼å¼åŒ–</a></li><li><a href=#32-æ›è¼‰å®Œæ•´æµç¨‹>3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰</a></li></ul></li><li><a href=#4-ä¸‹è¼‰-stage3æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡-chroot>4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot</a><ul><li><a href=#41-é¸æ“‡-stage3>4.1 é¸æ“‡ Stage3</a></li><li><a href=#42-ä¸‹è¼‰èˆ‡è§£å£“>4.2 ä¸‹è¼‰èˆ‡è§£å£“</a></li><li><a href=#43-æ›è¼‰ç³»çµ±ç›®éŒ„ä¾-init-ç³»çµ±ä¸åŒ>4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰</a></li><li><a href=#44-é€²å…¥-chroot>4.4 é€²å…¥ chroot</a></li></ul></li><li><a href=#5-portage-èˆ‡é¡åƒæºå«-makeconf-å®Œæ•´ç¤ºä¾‹>5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰</a><ul><li><a href=#51-åŒæ­¥-portage-æ¨¹>5.1 åŒæ­¥ Portage æ¨¹</a></li><li><a href=#52-é¸æ“‡é¡åƒæºæ“‡ä¸€>5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰</a></li><li><a href=#53-etcportagemakeconf-å®Œæ•´ç¤ºä¾‹å«è¨»è§£>5.3 <code>/etc/portage/make.conf</code> å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰</a></li></ul></li><li><a href=#6-use-flags-èˆ‡-licenseæ–°æ‰‹è§£æ³•>6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰</a><ul><li><a href=#61-æŸ¥è©¢èˆ‡ç†è§£-use>6.1 æŸ¥è©¢èˆ‡ç†è§£ USE</a></li><li><a href=#62-å°å–®ä¸€å¥—ä»¶åŠ å…¥-useç”¨-echoé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯>6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰</a></li><li><a href=#63-åŒæ„æˆæ¬Šä¾‹chrome>6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰</a></li><li><a href=#64-é—œéµè©å¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬>6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰</a></li></ul></li><li><a href=#7-é¸æ“‡-profileæ¡Œé¢ä¼ºæœå™¨>7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰</a></li><li><a href=#8-æœ¬åœ°åŒ–-localizationèªè¨€èˆ‡æ™‚å€>8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰</a></li><li><a href=#9-å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯å®Œæ•´æŒ‡ä»¤>9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰</a><ul><li><a href=#91-æœ€ç°¡æ–¹æ¡ˆé ç·¨è­¯å…§æ ¸å»ºè­°æ–°æ‰‹>9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰</a></li><li><a href=#92-é€²éšæ–¹æ¡ˆè‡ªè¡Œç·¨è­¯gentoo-sources>9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰</a></li></ul></li><li><a href=#10-ç”¢ç”Ÿ-fstabå«-btrfs--ext4-ç¯„ä¾‹>10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰</a></li><li><a href=#11-å®‰è£é–‹æ©Ÿå™¨-grubå«-os-prober>11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰</a></li><li><a href=#12-å•Ÿç”¨ç¶²è·¯æœå‹™openrc--systemd>12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰</a></li><li><a href=#13-wayland--x11-é¸æ“‡èˆ‡-use>13. Wayland / X11 é¸æ“‡èˆ‡ USE</a></li><li><a href=#14-é¡¯ç¤ºå¡èˆ‡-cpu-å¾®ç¢¼>14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼</a></li><li><a href=#15-æ¡Œé¢ç’°å¢ƒå¯é¸>15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰</a></li><li><a href=#16-ä½¿ç”¨è€…èˆ‡-sudo>16. ä½¿ç”¨è€…èˆ‡ sudo</a></li><li><a href=#17-sshå¯é¸>17. SSHï¼ˆå¯é¸ï¼‰</a></li><li><a href=#18-é‡é–‹æ©Ÿ>18. é‡é–‹æ©Ÿ</a></li></ul></nav></div></details></div><div class=post-content><div class=toc-embedded><nav id=TableOfContents><ul><li><a href=#-æˆ‘çš„é›»è…¦é…ç½®ç¤ºä¾‹>ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰</a></li><li><a href=#0-ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”>0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”</a><ul><li><a href=#01-ä¸‹è¼‰-isoç¤ºä¾‹å°ç£-nchc>0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰</a></li><li><a href=#02-è£½ä½œ-usb-å®‰è£ç¢Ÿ>0.2 è£½ä½œ USB å®‰è£ç¢Ÿ</a></li></ul></li><li><a href=#1-é–‹æ©Ÿèˆ‡ç¶²è·¯>1. é–‹æ©Ÿèˆ‡ç¶²è·¯</a><ul><li><a href=#11-ç¢ºèª-uefi--bios>1.1 ç¢ºèª UEFI / BIOS</a></li><li><a href=#12-æœ‰ç·šç¶²è·¯live-ç’°å¢ƒ>1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰</a></li><li><a href=#13-wifiå…©ç¨®å·¥å…·æ“‡ä¸€>1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰</a></li></ul></li><li><a href=#2-ç£ç¢Ÿåˆ†å‰²lsblk-èˆ‡-cfdisk>2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰</a></li><li><a href=#3-æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ext4--xfs--btrfs>3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰</a><ul><li><a href=#31-æ ¼å¼åŒ–>3.1 æ ¼å¼åŒ–</a></li><li><a href=#32-æ›è¼‰å®Œæ•´æµç¨‹>3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰</a></li></ul></li><li><a href=#4-ä¸‹è¼‰-stage3æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡-chroot>4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot</a><ul><li><a href=#41-é¸æ“‡-stage3>4.1 é¸æ“‡ Stage3</a></li><li><a href=#42-ä¸‹è¼‰èˆ‡è§£å£“>4.2 ä¸‹è¼‰èˆ‡è§£å£“</a></li><li><a href=#43-æ›è¼‰ç³»çµ±ç›®éŒ„ä¾-init-ç³»çµ±ä¸åŒ>4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰</a></li><li><a href=#44-é€²å…¥-chroot>4.4 é€²å…¥ chroot</a></li></ul></li><li><a href=#5-portage-èˆ‡é¡åƒæºå«-makeconf-å®Œæ•´ç¤ºä¾‹>5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰</a><ul><li><a href=#51-åŒæ­¥-portage-æ¨¹>5.1 åŒæ­¥ Portage æ¨¹</a></li><li><a href=#52-é¸æ“‡é¡åƒæºæ“‡ä¸€>5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰</a></li><li><a href=#53-etcportagemakeconf-å®Œæ•´ç¤ºä¾‹å«è¨»è§£>5.3 <code>/etc/portage/make.conf</code> å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰</a></li></ul></li><li><a href=#6-use-flags-èˆ‡-licenseæ–°æ‰‹è§£æ³•>6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰</a><ul><li><a href=#61-æŸ¥è©¢èˆ‡ç†è§£-use>6.1 æŸ¥è©¢èˆ‡ç†è§£ USE</a></li><li><a href=#62-å°å–®ä¸€å¥—ä»¶åŠ å…¥-useç”¨-echoé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯>6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰</a></li><li><a href=#63-åŒæ„æˆæ¬Šä¾‹chrome>6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰</a></li><li><a href=#64-é—œéµè©å¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬>6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰</a></li></ul></li><li><a href=#7-é¸æ“‡-profileæ¡Œé¢ä¼ºæœå™¨>7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰</a></li><li><a href=#8-æœ¬åœ°åŒ–-localizationèªè¨€èˆ‡æ™‚å€>8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰</a></li><li><a href=#9-å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯å®Œæ•´æŒ‡ä»¤>9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰</a><ul><li><a href=#91-æœ€ç°¡æ–¹æ¡ˆé ç·¨è­¯å…§æ ¸å»ºè­°æ–°æ‰‹>9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰</a></li><li><a href=#92-é€²éšæ–¹æ¡ˆè‡ªè¡Œç·¨è­¯gentoo-sources>9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰</a></li></ul></li><li><a href=#10-ç”¢ç”Ÿ-fstabå«-btrfs--ext4-ç¯„ä¾‹>10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰</a></li><li><a href=#11-å®‰è£é–‹æ©Ÿå™¨-grubå«-os-prober>11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰</a></li><li><a href=#12-å•Ÿç”¨ç¶²è·¯æœå‹™openrc--systemd>12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰</a></li><li><a href=#13-wayland--x11-é¸æ“‡èˆ‡-use>13. Wayland / X11 é¸æ“‡èˆ‡ USE</a></li><li><a href=#14-é¡¯ç¤ºå¡èˆ‡-cpu-å¾®ç¢¼>14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼</a></li><li><a href=#15-æ¡Œé¢ç’°å¢ƒå¯é¸>15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰</a></li><li><a href=#16-ä½¿ç”¨è€…èˆ‡-sudo>16. ä½¿ç”¨è€…èˆ‡ sudo</a></li><li><a href=#17-sshå¯é¸>17. SSHï¼ˆå¯é¸ï¼‰</a></li><li><a href=#18-é‡é–‹æ©Ÿ>18. é‡é–‹æ©Ÿ</a></li></ul></nav></div><h2 id=-æˆ‘çš„é›»è…¦é…ç½®ç¤ºä¾‹>ğŸ’» æˆ‘çš„é›»è…¦é…ç½®ï¼ˆç¤ºä¾‹ï¼‰<a hidden class=anchor aria-hidden=true href=#-æˆ‘çš„é›»è…¦é…ç½®ç¤ºä¾‹>#</a></h2><ul><li><strong>CPU</strong>ï¼šAMD Ryzen 9 7950X3Dï¼ˆ16C/32Tï¼‰</li><li><strong>ä¸»æ©Ÿæ¿</strong>ï¼šASUS ROG STRIX X670E-A GAMING WIFI</li><li><strong>RAM</strong>ï¼š64GB DDR5</li><li><strong>GPU</strong>ï¼šNVIDIA RTX 4080 SUPER + AMD iGPU</li><li><strong>å„²å­˜</strong>ï¼šNVMe SSD</li><li><strong>é›™ç³»çµ±</strong>ï¼šWindows 11 + Gentoo</li></ul><blockquote><p>ä»¥ä¸Šç‚ºç¤ºä¾‹ï¼Œæ­¥é©Ÿå°å¤šæ•¸ x86_64 å¹³å°é€šç”¨ã€‚</p></blockquote><hr><h2 id=0-ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”>0. ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”<a hidden class=anchor aria-hidden=true href=#0-ä¸‹è¼‰èˆ‡è£½ä½œå®‰è£åª’é«”>#</a></h2><p><strong>å®˜æ–¹é¡åƒåˆ—è¡¨</strong>ï¼š<a href=https://www.gentoo.org/downloads/mirrors/>https://www.gentoo.org/downloads/mirrors/</a></p><ul><li><strong>ä¸­åœ‹å¤§é™¸</strong>ï¼šé€šå¸¸<strong>å¿…é ˆ</strong>ä½¿ç”¨å¢ƒå…§é¡åƒï¼ˆä¸­ç§‘å¤§ USTC / æ¸…è¯ TUNA / é˜¿é‡Œé›²ï¼‰ï¼Œå¦å‰‡ä¸‹è¼‰é€Ÿåº¦èˆ‡é€£ç·šç©©å®šæ€§å¯èƒ½ä¸è¶³ã€‚</li><li><strong>å°ç£</strong>ï¼šå»ºè­°ä½¿ç”¨ <strong>NCHC</strong>ï¼›<strong>æ¾³æ´²</strong>ï¼šAARNETã€‚</li></ul><h3 id=01-ä¸‹è¼‰-isoç¤ºä¾‹å°ç£-nchc>0.1 ä¸‹è¼‰ ISOï¼ˆç¤ºä¾‹ï¼šå°ç£ NCHCï¼‰<a hidden class=anchor aria-hidden=true href=#01-ä¸‹è¼‰-isoç¤ºä¾‹å°ç£-nchc>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://free.nchc.org.tw/gentoo/releases/amd64/autobuilds/current-install-amd64-minimal/install-amd64-minimal.iso
</span></span></code></pre></div><blockquote><p>è‹¥åœ¨ä¸­åœ‹å¤§é™¸ï¼Œå¯å°‡ç¶²å€æ›æˆï¼š<code>https://mirrors.ustc.edu.cn/gentoo/</code>ã€<code>https://mirrors.tuna.tsinghua.edu.cn/gentoo/</code> æˆ– <code>https://mirrors.aliyun.com/gentoo/</code>ã€‚</p></blockquote><h3 id=02-è£½ä½œ-usb-å®‰è£ç¢Ÿ>0.2 è£½ä½œ USB å®‰è£ç¢Ÿ<a hidden class=anchor aria-hidden=true href=#02-è£½ä½œ-usb-å®‰è£ç¢Ÿ>#</a></h3><p><strong>Linuxï¼ˆddï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>install-amd64-minimal.iso of<span style=color:#f92672>=</span>/dev/sdX bs<span style=color:#f92672>=</span>4M status<span style=color:#f92672>=</span>progress oflag<span style=color:#f92672>=</span>sync
</span></span></code></pre></div><blockquote><p>å°‡ <code>sdX</code> æ›æˆ USB è£ç½®åç¨±ï¼ˆå¦‚ <code>/dev/sdb</code>ï¼‰ã€‚</p></blockquote><p><strong>Windowsï¼ˆRufusï¼‰</strong>ï¼š<a href=https://rufus.ie/>https://rufus.ie/</a></p><ol><li>é¸æ“‡ USB èˆ‡ Gentoo ISO</li><li>æ¨¡å¼é¸ <strong>dd æ¨¡å¼</strong>ï¼ˆé ISO æ¨¡å¼ï¼‰</li><li>Start</li></ol><hr><h2 id=1-é–‹æ©Ÿèˆ‡ç¶²è·¯>1. é–‹æ©Ÿèˆ‡ç¶²è·¯<a hidden class=anchor aria-hidden=true href=#1-é–‹æ©Ÿèˆ‡ç¶²è·¯>#</a></h2><h3 id=11-ç¢ºèª-uefi--bios>1.1 ç¢ºèª UEFI / BIOS<a hidden class=anchor aria-hidden=true href=#11-ç¢ºèª-uefi--bios>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls /sys/firmware/efi
</span></span></code></pre></div><p>æœ‰è¼¸å‡º â†’ <strong>UEFI</strong>ï¼›æ²’æœ‰ â†’ <strong>Legacy BIOS</strong>ã€‚</p><h3 id=12-æœ‰ç·šç¶²è·¯live-ç’°å¢ƒ>1.2 æœ‰ç·šç¶²è·¯ï¼ˆLive ç’°å¢ƒï¼‰<a hidden class=anchor aria-hidden=true href=#12-æœ‰ç·šç¶²è·¯live-ç’°å¢ƒ>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ip a
</span></span><span style=display:flex><span>dhcpcd eno1
</span></span><span style=display:flex><span>ping -c <span style=color:#ae81ff>3</span> gentoo.org
</span></span></code></pre></div><h3 id=13-wifiå…©ç¨®å·¥å…·æ“‡ä¸€>1.3 Wiâ€‘Fiï¼ˆå…©ç¨®å·¥å…·æ“‡ä¸€ï¼‰<a hidden class=anchor aria-hidden=true href=#13-wifiå…©ç¨®å·¥å…·æ“‡ä¸€>#</a></h3><p><strong>wpa_supplicant</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>iw dev
</span></span><span style=display:flex><span>wpa_passphrase <span style=color:#e6db74>&#34;SSID&#34;</span> <span style=color:#e6db74>&#34;PASSWORD&#34;</span> | tee /etc/wpa_supplicant/wpa_supplicant.conf
</span></span><span style=display:flex><span>wpa_supplicant -B -i wlp9s0 -c /etc/wpa_supplicant/wpa_supplicant.conf
</span></span><span style=display:flex><span>dhcpcd wlp9s0
</span></span><span style=display:flex><span>ping -c <span style=color:#ae81ff>3</span> gentoo.org
</span></span></code></pre></div><p><strong>iwdï¼ˆæ›´ç°¡å–®ï¼Œæ¨è–¦æ–°æ‰‹ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge net-wireless/iwd
</span></span><span style=display:flex><span>systemctl enable iwd
</span></span><span style=display:flex><span>systemctl start iwd
</span></span><span style=display:flex><span>iwctl
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>iwd<span style=color:#f92672>]</span><span style=color:#75715e># device list</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>iwd<span style=color:#f92672>]</span><span style=color:#75715e># station wlp9s0 scan</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>iwd<span style=color:#f92672>]</span><span style=color:#75715e># station wlp9s0 get-networks</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>iwd<span style=color:#f92672>]</span><span style=color:#75715e># station wlp9s0 connect SSID</span>
</span></span></code></pre></div><blockquote><p>è‹¥ WPA3 ä¸ç©©ï¼Œå…ˆæ”¹ç”¨ WPA2 è©¦è©¦ã€‚</p></blockquote><hr><h2 id=2-ç£ç¢Ÿåˆ†å‰²lsblk-èˆ‡-cfdisk>2. ç£ç¢Ÿåˆ†å‰²ï¼ˆlsblk èˆ‡ cfdiskï¼‰<a hidden class=anchor aria-hidden=true href=#2-ç£ç¢Ÿåˆ†å‰²lsblk-èˆ‡-cfdisk>#</a></h2><p>æª¢è¦–ç£ç¢Ÿï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lsblk -o NAME,SIZE,TYPE,MOUNTPOINT
</span></span></code></pre></div><p>ç¯„ä¾‹ï¼š</p><pre tabindex=0><code>nvme0n1    476G disk
â”œâ”€nvme0n1p1 512M part
â”œâ”€nvme0n1p2   1G part
â”œâ”€nvme0n1p3 100G part
â””â”€nvme0n1p4 375G part
</code></pre><p>å•Ÿå‹•åˆ†å‰²å·¥å…·ï¼ˆå¯é¸ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cfdisk /dev/nvme0n1
</span></span></code></pre></div><p><strong>å»ºè­°åˆ†å‰²ï¼ˆUEFIï¼‰</strong>ï¼š</p><table><thead><tr><th>å¤§å°</th><th>æª”æ¡ˆç³»çµ±</th><th>æ›è¼‰é»</th><th>èªªæ˜</th></tr></thead><tbody><tr><td>512M</td><td>FAT32</td><td>/efi</td><td>ESPï¼ˆUEFI ç³»çµ±åˆ†å‰²å€ï¼‰</td></tr><tr><td>1G</td><td>ext4</td><td>/boot</td><td>kernelã€initramfs</td></tr><tr><td>100G+</td><td>ext4 / XFS / Btrfs</td><td>/</td><td>æ ¹åˆ†å‰²å€</td></tr><tr><td>å…¶é¤˜</td><td>ext4 / XFS / Btrfs</td><td>/home</td><td>ä½¿ç”¨è€…å®¶ç›®éŒ„</td></tr></tbody></table><blockquote><p>ä½ ä¹Ÿå¯ä»¥é¸æ“‡åªæœ‰ / èˆ‡ /efi çš„ç°¡åŒ–æ–¹æ¡ˆã€‚</p></blockquote><hr><h2 id=3-æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ext4--xfs--btrfs>3. æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ï¼ˆext4 / XFS / Btrfsï¼‰<a hidden class=anchor aria-hidden=true href=#3-æª”æ¡ˆç³»çµ±æ ¼å¼åŒ–èˆ‡æ›è¼‰ext4--xfs--btrfs>#</a></h2><h3 id=31-æ ¼å¼åŒ–>3.1 æ ¼å¼åŒ–<a hidden class=anchor aria-hidden=true href=#31-æ ¼å¼åŒ–>#</a></h3><p><strong>ext4</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkfs.ext4 -L root /dev/nvme0n1p3
</span></span><span style=display:flex><span>mkfs.ext4 -L home /dev/nvme0n1p4
</span></span></code></pre></div><p><strong>XFS</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkfs.xfs -L root /dev/nvme0n1p3
</span></span><span style=display:flex><span>mkfs.xfs -L home /dev/nvme0n1p4
</span></span></code></pre></div><p><strong>Btrfs</strong>ï¼ˆå¿…è¦æ™‚å¯ç”¨ <code>-f</code> å¼·åˆ¶è¦†è“‹ï¼Œâš ï¸ æœƒæŠ¹é™¤è©²åˆ†å‰²å€è³‡æ–™ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkfs.btrfs -L rootfs /dev/nvme0n1p3
</span></span><span style=display:flex><span>mkfs.btrfs -L home   /dev/nvme0n1p4
</span></span><span style=display:flex><span><span style=color:#75715e># éœ€è¦å¼·åˆ¶æ™‚ï¼šmkfs.btrfs -f -L rootfs /dev/nvme0n1p3</span>
</span></span></code></pre></div><h3 id=32-æ›è¼‰å®Œæ•´æµç¨‹>3.2 æ›è¼‰ï¼ˆå®Œæ•´æµç¨‹ï¼‰<a hidden class=anchor aria-hidden=true href=#32-æ›è¼‰å®Œæ•´æµç¨‹>#</a></h3><p><strong>ext4 / XFS</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount /dev/nvme0n1p3 /mnt/gentoo
</span></span><span style=display:flex><span>mkdir -p /mnt/gentoo/<span style=color:#f92672>{</span>boot,home,efi<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>mount /dev/nvme0n1p4 /mnt/gentoo/home
</span></span><span style=display:flex><span>mount /dev/nvme0n1p2 /mnt/gentoo/boot
</span></span><span style=display:flex><span>mount /dev/nvme0n1p1 /mnt/gentoo/efi
</span></span></code></pre></div><p><strong>Btrfsï¼ˆå­å·ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount /dev/nvme0n1p3 /mnt/gentoo
</span></span><span style=display:flex><span>btrfs subvolume create /mnt/gentoo/@
</span></span><span style=display:flex><span>btrfs subvolume create /mnt/gentoo/@home
</span></span><span style=display:flex><span>umount /mnt/gentoo
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mount -o compress<span style=color:#f92672>=</span>zstd,subvol<span style=color:#f92672>=</span>@    /dev/nvme0n1p3 /mnt/gentoo
</span></span><span style=display:flex><span>mkdir -p /mnt/gentoo/<span style=color:#f92672>{</span>boot,home,efi<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>mount -o subvol<span style=color:#f92672>=</span>@home              /dev/nvme0n1p3 /mnt/gentoo/home
</span></span><span style=display:flex><span>mount /dev/nvme0n1p2 /mnt/gentoo/boot
</span></span><span style=display:flex><span>mount /dev/nvme0n1p1 /mnt/gentoo/efi
</span></span></code></pre></div><hr><h2 id=4-ä¸‹è¼‰-stage3æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡-chroot>4. ä¸‹è¼‰ Stage3ã€æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡ chroot<a hidden class=anchor aria-hidden=true href=#4-ä¸‹è¼‰-stage3æ›è¼‰ç³»çµ±ç›®éŒ„èˆ‡-chroot>#</a></h2><h3 id=41-é¸æ“‡-stage3>4.1 é¸æ“‡ Stage3<a hidden class=anchor aria-hidden=true href=#41-é¸æ“‡-stage3>#</a></h3><ul><li>å»ºè­°ä¸‹è¼‰ <strong>æ¨™æº– Stage3ï¼ˆglibcï¼‰</strong>ï¼Œä¾éœ€æ±‚é¸ <strong>OpenRC</strong> æˆ– <strong>systemd</strong>ã€‚</li><li>ã€Œdesktopã€Stage3 åªæ˜¯é è¨­æ¡Œé¢åŒ– USEï¼Œ<strong>éå¿…é ˆ</strong>ï¼›ç”¨æ¨™æº– Stage3 + æ­£ç¢º <strong>Profile</strong> æ›´éˆæ´»ã€‚</li></ul><h3 id=42-ä¸‹è¼‰èˆ‡è§£å£“>4.2 ä¸‹è¼‰èˆ‡è§£å£“<a hidden class=anchor aria-hidden=true href=#42-ä¸‹è¼‰èˆ‡è§£å£“>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /mnt/gentoo
</span></span><span style=display:flex><span>links https://www.gentoo.org/downloads/mirrors/
</span></span><span style=display:flex><span>tar xpvf stage3-*.tar.xz --xattrs-include<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;*.*&#39;</span> --numeric-owner
</span></span></code></pre></div><blockquote><p>åŒ ISOï¼Œä¸€æ¨£å¯é¸æ“‡å°±è¿‘çš„é¡åƒæºä¸‹è¼‰ Stage3ã€‚</p></blockquote><h3 id=43-æ›è¼‰ç³»çµ±ç›®éŒ„ä¾-init-ç³»çµ±ä¸åŒ>4.3 æ›è¼‰ç³»çµ±ç›®éŒ„ï¼ˆä¾ init ç³»çµ±ä¸åŒï¼‰<a hidden class=anchor aria-hidden=true href=#43-æ›è¼‰ç³»çµ±ç›®éŒ„ä¾-init-ç³»çµ±ä¸åŒ>#</a></h3><p><strong>OpenRC</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount -t proc /proc /mnt/gentoo/proc
</span></span><span style=display:flex><span>mount --rbind /sys /mnt/gentoo/sys
</span></span><span style=display:flex><span>mount --rbind /dev /mnt/gentoo/dev
</span></span></code></pre></div><p><strong>systemd</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount -t proc /proc /mnt/gentoo/proc
</span></span><span style=display:flex><span>mount --rbind /sys /mnt/gentoo/sys <span style=color:#f92672>&amp;&amp;</span> mount --make-rslave /mnt/gentoo/sys
</span></span><span style=display:flex><span>mount --rbind /dev /mnt/gentoo/dev <span style=color:#f92672>&amp;&amp;</span> mount --make-rslave /mnt/gentoo/dev
</span></span><span style=display:flex><span>mount --rbind /run /mnt/gentoo/run <span style=color:#f92672>&amp;&amp;</span> mount --make-rslave /mnt/gentoo/run
</span></span></code></pre></div><h3 id=44-é€²å…¥-chroot>4.4 é€²å…¥ chroot<a hidden class=anchor aria-hidden=true href=#44-é€²å…¥-chroot>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chroot /mnt/gentoo /bin/bash
</span></span><span style=display:flex><span>source /etc/profile
</span></span><span style=display:flex><span>export PS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;(chroot) </span>$PS1<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><hr><h2 id=5-portage-èˆ‡é¡åƒæºå«-makeconf-å®Œæ•´ç¤ºä¾‹>5. Portage èˆ‡é¡åƒæºï¼ˆå« makeconf å®Œæ•´ç¤ºä¾‹ï¼‰<a hidden class=anchor aria-hidden=true href=#5-portage-èˆ‡é¡åƒæºå«-makeconf-å®Œæ•´ç¤ºä¾‹>#</a></h2><h3 id=51-åŒæ­¥-portage-æ¨¹>5.1 åŒæ­¥ Portage æ¨¹<a hidden class=anchor aria-hidden=true href=#51-åŒæ­¥-portage-æ¨¹>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge-webrsync
</span></span><span style=display:flex><span>emerge --sync
</span></span></code></pre></div><h3 id=52-é¸æ“‡é¡åƒæºæ“‡ä¸€>5.2 é¸æ“‡é¡åƒæºï¼ˆæ“‡ä¸€ï¼‰<a hidden class=anchor aria-hidden=true href=#52-é¸æ“‡é¡åƒæºæ“‡ä¸€>#</a></h3><p><strong>äº’å‹•å·¥å…·</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge --ask app-portage/mirrorselect
</span></span><span style=display:flex><span>mirrorselect -i -o &gt;&gt; /etc/portage/make.conf
</span></span></code></pre></div><p><strong>æ‰‹å‹•æŒ‡å®šï¼ˆå»ºè­°æœ€çµ‚åªä¿ç•™ä¸€æ¢ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#39;GENTOO_MIRRORS=&#34;https://free.nchc.org.tw/gentoo/&#34;&#39;</span> &gt;&gt; /etc/portage/make.conf
</span></span></code></pre></div><blockquote><p>âš ï¸ é¿å…é‡è¤‡èˆ‡è¡çªï¼š<code>mirrorselect</code> å¯èƒ½åŠ å…¥å¤šæ¢é¡åƒï¼Œå»ºè­°æœ€å¾Œåƒ…ä¿ç•™é€Ÿåº¦æœ€å¿«çš„ä¸€æ¢ã€‚</p></blockquote><h3 id=53-etcportagemakeconf-å®Œæ•´ç¤ºä¾‹å«è¨»è§£>5.3 <code>/etc/portage/make.conf</code> å®Œæ•´ç¤ºä¾‹ï¼ˆå«è¨»è§£ï¼‰<a hidden class=anchor aria-hidden=true href=#53-etcportagemakeconf-å®Œæ•´ç¤ºä¾‹å«è¨»è§£>#</a></h3><pre tabindex=0><code class=language-conf data-lang=conf># ç·¨è­¯å™¨åƒæ•¸ï¼šO2 èˆ‡ pipe è¶³å¤ ï¼Œå¤šæ•¸æƒ…æ³ä¸éœ€è¦ -Ofast
COMMON_FLAGS=&#34;-march=native -O2 -pipe&#34;

# å¹³è¡Œç·¨è­¯ï¼šé€šå¸¸è¨­æˆ CPU åŸ·è¡Œç·’æ•¸
MAKEOPTS=&#34;-j32&#34;

# Portage é è¨­è¡Œç‚ºï¼šäº’å‹•ã€è©³ç´°ã€æ‹‰é€²å»ºç½®ä¾è³´ã€å®Œæ•´åœ–
EMERGE_DEFAULT_OPTS=&#34;--ask --verbose --with-bdeps=y --complete-graph=y&#34;

# é¡åƒï¼šè«‹æœ€çµ‚åƒ…ä¿ç•™ä¸€æ¢ï¼ˆä¸‹ä¾‹ç‚ºå°ç£ NCHCï¼‰
GENTOO_MIRRORS=&#34;https://free.nchc.org.tw/gentoo/&#34;

# å…¨åŸŸ USEï¼ˆå…©å¥—å…¸å‹é¸æ“‡äºŒæ“‡ä¸€ï¼›ä¹Ÿå¯åŒæ™‚ä¿ç•™ xwayland åšç›¸å®¹ï¼‰
USE=&#34;wayland egl pipewire vulkan&#34;
# USE=&#34;X xwayland egl pipewire vulkan&#34;

# é¡¯ç¤ºå¡ï¼šè«‹åªå¡«ä½ çš„ç¡¬é«”ï¼ˆä¸è¦å…¨æŠ„ï¼‰
# ä¾‹ï¼šNVIDIA æ–°å¡
VIDEO_CARDS=&#34;nvidia&#34;
# ä¾‹ï¼šAMD
# VIDEO_CARDS=&#34;amdgpu radeonsi&#34;
# ä¾‹ï¼šIntel
# VIDEO_CARDS=&#34;intel i965 iris&#34;
# ä¾‹ï¼šè€ NVIDIA æˆ–æƒ³ç”¨é–‹æº
# VIDEO_CARDS=&#34;nouveau&#34;

# æ¥å—æˆæ¬Šï¼šæ–°æ‰‹å¯æš«æ™‚é–‹æ”¾å…¨éƒ¨ï¼Œä¹‹å¾Œç´°åŒ–è‡³ package.license
ACCEPT_LICENSE=&#34;*&#34;
</code></pre><hr><h2 id=6-use-flags-èˆ‡-licenseæ–°æ‰‹è§£æ³•>6. USE flags èˆ‡ Licenseï¼ˆæ–°æ‰‹è§£æ³•ï¼‰<a hidden class=anchor aria-hidden=true href=#6-use-flags-èˆ‡-licenseæ–°æ‰‹è§£æ³•>#</a></h2><h3 id=61-æŸ¥è©¢èˆ‡ç†è§£-use>6.1 æŸ¥è©¢èˆ‡ç†è§£ USE<a hidden class=anchor aria-hidden=true href=#61-æŸ¥è©¢èˆ‡ç†è§£-use>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge -pv firefox
</span></span></code></pre></div><p>é–±è®€è¼¸å‡ºä¸­ <code>USE="..."</code> èˆ‡é®ç½©æç¤ºï¼Œäº†è§£éœ€è¦å•Ÿç”¨æˆ–åœç”¨å“ªäº›æ——æ¨™ã€‚</p><h3 id=62-å°å–®ä¸€å¥—ä»¶åŠ å…¥-useç”¨-echoé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯>6.2 å°å–®ä¸€å¥—ä»¶åŠ å…¥ USEï¼ˆç”¨ echoï¼Œé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯ï¼‰<a hidden class=anchor aria-hidden=true href=#62-å°å–®ä¸€å¥—ä»¶åŠ å…¥-useç”¨-echoé¿å…æ‰‹å‹•ç·¨è¼¯å‡ºéŒ¯>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;media-video/ffmpeg X wayland&#34;</span> &gt;&gt; /etc/portage/package.use/ffmpeg
</span></span></code></pre></div><h3 id=63-åŒæ„æˆæ¬Šä¾‹chrome>6.3 åŒæ„æˆæ¬Šï¼ˆä¾‹ï¼šChromeï¼‰<a hidden class=anchor aria-hidden=true href=#63-åŒæ„æˆæ¬Šä¾‹chrome>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;www-client/google-chrome google-chrome&#34;</span> &gt;&gt; /etc/portage/package.license
</span></span></code></pre></div><h3 id=64-é—œéµè©å¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬>6.4 é—œéµè©ï¼ˆå¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬ï¼‰<a hidden class=anchor aria-hidden=true href=#64-é—œéµè©å¦‚éœ€è§£é–è»Ÿé«”ç‰ˆæœ¬>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;www-client/google-chrome ~amd64&#34;</span> &gt;&gt; /etc/portage/package.accept_keywords
</span></span></code></pre></div><blockquote><p>åƒ…åœ¨éœ€è¦è¼ƒæ–°ï¼ˆæ¸¬è©¦ï¼‰ç‰ˆæœ¬æ™‚ä½¿ç”¨ã€‚</p></blockquote><hr><h2 id=7-é¸æ“‡-profileæ¡Œé¢ä¼ºæœå™¨>7. é¸æ“‡ Profileï¼ˆæ¡Œé¢ï¼ä¼ºæœå™¨ï¼‰<a hidden class=anchor aria-hidden=true href=#7-é¸æ“‡-profileæ¡Œé¢ä¼ºæœå™¨>#</a></h2><p>åˆ—å‡ºå¯ç”¨ Profileï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>eselect profile list
</span></span></code></pre></div><p>å¸¸è¦‹é¸æ“‡ï¼š</p><ul><li><strong>KDE + systemd</strong>ï¼š<code>default/linux/amd64/23.0/desktop/plasma/systemd</code></li><li><strong>GNOME + systemd</strong>ï¼š<code>default/linux/amd64/23.0/desktop/gnome/systemd</code></li><li><strong>æ¡Œé¢ + OpenRC</strong>ï¼š<code>default/linux/amd64/23.0/desktop</code> æˆ–å°æ‡‰ plasma/openrc è®Šé«”</li><li><strong>ä¼ºæœå™¨</strong>ï¼š<code>default/linux/amd64/23.0</code>ï¼ˆè¼ƒç²¾ç°¡ï¼‰</li></ul><p>å¥—ç”¨ä¸¦æ›´æ–°ç³»çµ±ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>eselect profile set &lt;ç·¨è™Ÿ&gt;
</span></span><span style=display:flex><span>emerge -avuDN @world
</span></span></code></pre></div><blockquote><p>Profile æœƒè¨­å®šä¸€çµ„é è¨­ USE èˆ‡æ–¹å‘ï¼›éœ€è¦æ™‚å¯é€é <code>package.use</code> åšç´°éƒ¨å¾®èª¿ã€‚</p></blockquote><hr><h2 id=8-æœ¬åœ°åŒ–-localizationèªè¨€èˆ‡æ™‚å€>8. æœ¬åœ°åŒ– Localizationï¼ˆèªè¨€èˆ‡æ™‚å€ï¼‰<a hidden class=anchor aria-hidden=true href=#8-æœ¬åœ°åŒ–-localizationèªè¨€èˆ‡æ™‚å€>#</a></h2><p><strong>èªè¨€ï¼ˆ/etc/locale.genï¼‰</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>en_US.UTF-8 UTF-8
zh_TW.UTF-8 UTF-8
</code></pre><p>ç”¢ç”Ÿä¸¦å¥—ç”¨ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>locale-gen
</span></span><span style=display:flex><span>eselect locale set en_US.utf8
</span></span></code></pre></div><p><strong>æ™‚å€</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls /usr/share/zoneinfo
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Asia/Taipei&#34;</span> &gt; /etc/timezone
</span></span><span style=display:flex><span>emerge --config sys-libs/timezone-data
</span></span></code></pre></div><p>å®Œæ•´æ¸…å–®ï¼š<a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a></p><p><strong>å­—å‹èˆ‡è¼¸å…¥æ³•ï¼ˆå¯é¸ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge media-fonts/noto-cjk
</span></span><span style=display:flex><span>emerge app-i18n/fcitx5 app-i18n/fcitx5-rime
</span></span></code></pre></div><hr><h2 id=9-å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯å®Œæ•´æŒ‡ä»¤>9. å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯ï¼ˆå®Œæ•´æŒ‡ä»¤ï¼‰<a hidden class=anchor aria-hidden=true href=#9-å…§æ ¸é¸æ“‡èˆ‡ç·¨è­¯å®Œæ•´æŒ‡ä»¤>#</a></h2><h3 id=91-æœ€ç°¡æ–¹æ¡ˆé ç·¨è­¯å…§æ ¸å»ºè­°æ–°æ‰‹>9.1 æœ€ç°¡æ–¹æ¡ˆï¼šé ç·¨è­¯å…§æ ¸ï¼ˆå»ºè­°æ–°æ‰‹ï¼‰<a hidden class=anchor aria-hidden=true href=#91-æœ€ç°¡æ–¹æ¡ˆé ç·¨è­¯å…§æ ¸å»ºè­°æ–°æ‰‹>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge sys-kernel/gentoo-kernel-bin
</span></span></code></pre></div><h3 id=92-é€²éšæ–¹æ¡ˆè‡ªè¡Œç·¨è­¯gentoo-sources>9.2 é€²éšæ–¹æ¡ˆï¼šè‡ªè¡Œç·¨è­¯ï¼ˆgentoo-sourcesï¼‰<a hidden class=anchor aria-hidden=true href=#92-é€²éšæ–¹æ¡ˆè‡ªè¡Œç·¨è­¯gentoo-sources>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge sys-kernel/gentoo-sources
</span></span><span style=display:flex><span>cd /usr/src/linux
</span></span><span style=display:flex><span>make menuconfig   <span style=color:#75715e># å•Ÿç”¨ä½ çš„ç¡¬é«”ï¼šNVMeã€ext4ã€ï¼ˆéœ€è¦å‰‡ï¼‰Btrfsã€GPUã€USBã€ç¶²å¡ç­‰</span>
</span></span><span style=display:flex><span>make -j<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>nproc<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>make modules_install
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p><strong>å¯é¸ï¼šå»ºç«‹ initramfsï¼ˆBtrfsã€LUKSã€RAID æˆ–æ¨¡çµ„åŒ–é©…å‹•å»ºè­°ä½¿ç”¨ï¼‰</strong></p><ul><li>ç”¨ <strong>dracut</strong>ï¼š<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge sys-kernel/dracut
</span></span><span style=display:flex><span>dracut --kver <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>ls /lib/modules | sort -V | tail -1<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div></li><li>ç”¨ <strong>genkernel</strong>ï¼š<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge sys-kernel/genkernel
</span></span><span style=display:flex><span>genkernel initramfs
</span></span></code></pre></div></li></ul><hr><h2 id=10-ç”¢ç”Ÿ-fstabå«-btrfs--ext4-ç¯„ä¾‹>10. ç”¢ç”Ÿ fstabï¼ˆå« Btrfs / ext4 ç¯„ä¾‹ï¼‰<a hidden class=anchor aria-hidden=true href=#10-ç”¢ç”Ÿ-fstabå«-btrfs--ext4-ç¯„ä¾‹>#</a></h2><p>æŸ¥è©¢ UUIDï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>blkid
</span></span><span style=display:flex><span>lsblk -f
</span></span></code></pre></div><p><strong>ext4</strong>ï¼š</p><pre tabindex=0><code class=language-fstab data-lang=fstab>UUID=&lt;UUID-ESP&gt;  /efi   vfat  noatime,umask=0077 0 2
UUID=&lt;UUID-BOOT&gt; /boot  ext4  noatime            0 2
UUID=&lt;UUID-ROOT&gt; /      ext4  noatime            0 1
UUID=&lt;UUID-HOME&gt; /home  ext4  noatime            0 2
</code></pre><p><strong>Btrfsï¼ˆå­å·ï¼‰</strong>ï¼š</p><pre tabindex=0><code class=language-fstab data-lang=fstab>UUID=&lt;UUID-ESP&gt;  /efi   vfat   noatime,umask=0077 0 2
UUID=&lt;UUID-ROOT&gt; /      btrfs  noatime,compress=zstd,subvol=@     0 1
UUID=&lt;UUID-ROOT&gt; /home  btrfs  noatime,compress=zstd,subvol=@home 0 2
</code></pre><hr><h2 id=11-å®‰è£é–‹æ©Ÿå™¨-grubå«-os-prober>11. å®‰è£é–‹æ©Ÿå™¨ GRUBï¼ˆå« os-proberï¼‰<a hidden class=anchor aria-hidden=true href=#11-å®‰è£é–‹æ©Ÿå™¨-grubå«-os-prober>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge grub efibootmgr
</span></span><span style=display:flex><span>grub-install --target<span style=color:#f92672>=</span>x86_64-efi --efi-directory<span style=color:#f92672>=</span>/efi --bootloader-id<span style=color:#f92672>=</span>Gentoo
</span></span><span style=display:flex><span>emerge --ask sys-boot/os-prober
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;GRUB_DISABLE_OS_PROBER=false&#39;</span> &gt;&gt; /etc/default/grub
</span></span><span style=display:flex><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><p>è‹¥ root ç”¨ Btrfsï¼Œå»ºè­°å®‰è£å·¥å…·ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge --ask sys-fs/btrfs-progs
</span></span></code></pre></div><hr><h2 id=12-å•Ÿç”¨ç¶²è·¯æœå‹™openrc--systemd>12. å•Ÿç”¨ç¶²è·¯æœå‹™ï¼ˆOpenRC / systemdï¼‰<a hidden class=anchor aria-hidden=true href=#12-å•Ÿç”¨ç¶²è·¯æœå‹™openrc--systemd>#</a></h2><p><strong>systemdï¼ˆæ¡Œé¢å¸¸ç”¨ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge net-misc/networkmanager
</span></span><span style=display:flex><span>systemctl enable NetworkManager
</span></span></code></pre></div><p><strong>OpenRCï¼ˆå‚³çµ±ï¼‰</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge net-misc/dhcpcd
</span></span><span style=display:flex><span>rc-update add dhcpcd default
</span></span></code></pre></div><hr><h2 id=13-wayland--x11-é¸æ“‡èˆ‡-use>13. Wayland / X11 é¸æ“‡èˆ‡ USE<a hidden class=anchor aria-hidden=true href=#13-wayland--x11-é¸æ“‡èˆ‡-use>#</a></h2><p><strong>Wayland ç‚ºä¸»</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>USE=&#34;wayland egl pipewire vulkan&#34;
</code></pre><p><strong>X11 ç›¸å®¹æ€§è¼ƒä½³ï¼ˆèˆŠç¨‹å¼ï¼éƒ¨åˆ†éŠæˆ²ï¼‰</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>USE=&#34;X xwayland egl pipewire vulkan&#34;
</code></pre><blockquote><p>å…©è€…éƒ½å¯ç”¨ï¼Œä½†è«‹ä¾éœ€æ±‚èª¿æ•´ã€‚</p></blockquote><hr><h2 id=14-é¡¯ç¤ºå¡èˆ‡-cpu-å¾®ç¢¼>14. é¡¯ç¤ºå¡èˆ‡ CPU å¾®ç¢¼<a hidden class=anchor aria-hidden=true href=#14-é¡¯ç¤ºå¡èˆ‡-cpu-å¾®ç¢¼>#</a></h2><p><strong>NVIDIA å°ˆæœ‰é©…å‹•</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>VIDEO_CARDS=&#34;nvidia&#34;
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge x11-drivers/nvidia-drivers
</span></span></code></pre></div><p><strong>NVIDIA é–‹æº nouveauï¼ˆæ•ˆèƒ½è¼ƒä½ï¼‰</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>VIDEO_CARDS=&#34;nouveau&#34;
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge x11-base/xorg-drivers
</span></span></code></pre></div><p><strong>AMD</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>VIDEO_CARDS=&#34;amdgpu radeonsi&#34;
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge mesa vulkan-loader
</span></span></code></pre></div><p><strong>Intel</strong>ï¼š</p><pre tabindex=0><code class=language-conf data-lang=conf>VIDEO_CARDS=&#34;intel i965 iris&#34;
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge mesa vulkan-loader
</span></span></code></pre></div><p><strong>CPU å¾®ç¢¼</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Intel</span>
</span></span><span style=display:flex><span>emerge sys-firmware/intel-microcode
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># AMD</span>
</span></span><span style=display:flex><span>emerge sys-firmware/amd-ucode
</span></span></code></pre></div><hr><h2 id=15-æ¡Œé¢ç’°å¢ƒå¯é¸>15. æ¡Œé¢ç’°å¢ƒï¼ˆå¯é¸ï¼‰<a hidden class=anchor aria-hidden=true href=#15-æ¡Œé¢ç’°å¢ƒå¯é¸>#</a></h2><p><strong>KDE Plasma</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge kde-plasma/plasma-meta x11-misc/sddm x11-base/xwayland
</span></span><span style=display:flex><span>systemctl enable sddm
</span></span></code></pre></div><p><strong>GNOME</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge gnome-base/gnome gnome-base/gdm
</span></span><span style=display:flex><span>systemctl enable gdm
</span></span></code></pre></div><hr><h2 id=16-ä½¿ç”¨è€…èˆ‡-sudo>16. ä½¿ç”¨è€…èˆ‡ sudo<a hidden class=anchor aria-hidden=true href=#16-ä½¿ç”¨è€…èˆ‡-sudo>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>passwd
</span></span><span style=display:flex><span>useradd -m -G wheel,audio,video,usb -s /bin/bash zakk
</span></span><span style=display:flex><span>passwd zakk
</span></span><span style=display:flex><span>emerge app-admin/sudo
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;%wheel ALL=(ALL) ALL&#34;</span> &gt;&gt; /etc/sudoers
</span></span></code></pre></div><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šé€™è£¡çš„ <code>zakk</code> åªæ˜¯ç¯„ä¾‹ï¼Œè«‹æ›¿æ›ç‚ºä½ è‡ªå·±çš„ä½¿ç”¨è€…åç¨±ã€‚</p></blockquote><hr><h2 id=17-sshå¯é¸>17. SSHï¼ˆå¯é¸ï¼‰<a hidden class=anchor aria-hidden=true href=#17-sshå¯é¸>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>emerge net-misc/openssh
</span></span><span style=display:flex><span>systemctl enable sshd <span style=color:#f92672>&amp;&amp;</span> systemctl start sshd
</span></span></code></pre></div><hr><h2 id=18-é‡é–‹æ©Ÿ>18. é‡é–‹æ©Ÿ<a hidden class=anchor aria-hidden=true href=#18-é‡é–‹æ©Ÿ>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>exit
</span></span><span style=display:flex><span>umount -R /mnt/gentoo
</span></span><span style=display:flex><span>reboot
</span></span></code></pre></div><hr><h1 id=-å¸¸è¦‹å•é¡Œ-faq>ğŸ’¡ å¸¸è¦‹å•é¡Œ FAQ<a hidden class=anchor aria-hidden=true href=#-å¸¸è¦‹å•é¡Œ-faq>#</a></h1><ul><li><strong>ä¸‹è¼‰æ…¢ï¼è¶…æ™‚</strong>ï¼šä¸­åœ‹å¤§é™¸è«‹ç”¨å¢ƒå…§é¡åƒï¼›å…¶ä»–åœ°å€é¸æœ€è¿‘é¡åƒã€‚</li><li><strong>Wiâ€‘Fi é€£ä¸ä¸Š</strong>ï¼šå…ˆæª¢æŸ¥é©…å‹•èˆ‡ä»‹é¢åç¨±ï¼ŒWPA3 ä¸ç©©æ”¹ WPA2ã€‚</li><li><strong>Wayland / X11</strong>ï¼šAMD/Intel æ–°å¹³å°å¯å„ªå…ˆ Waylandï¼›ç›¸å®¹æ€§éœ€æ±‚é¸ X11 + xwaylandã€‚</li><li><strong>NVIDIA é¸æ“‡</strong>ï¼šRTX 4000 å»ºè­° <code>nvidia-drivers</code>ï¼›èˆŠå¡æˆ–ç´”é–‹æºå–å‘å¯è©¦ <code>nouveau</code>ï¼ˆæ•ˆèƒ½è¼ƒä½ï¼‰ã€‚</li><li><strong>USE è¡çª</strong>ï¼š<code>emerge -pv &lt;å¥—ä»¶></code> çœ‹æç¤ºï¼Œå°‡å»ºè­°çš„ USE å¯«å…¥ <code>/etc/portage/package.use/</code>ã€‚</li><li><strong>License é˜»æ“‹</strong>ï¼šæŠŠæˆæ¬ŠåŠ å…¥ <code>/etc/portage/package.license</code>ã€‚</li><li><strong>éœ€è¦æ–°ç‰ˆ</strong>ï¼šç”¨ <code>/etc/portage/package.accept_keywords</code> è§£é–ã€‚</li><li><strong>Btrfs + LUKS/RAID</strong>ï¼šå»ºè­°ä½¿ç”¨ initramfsï¼ˆdracut æˆ– genkernelï¼‰ã€‚</li></ul><hr><h1 id=-åƒè€ƒ>ğŸ“ åƒè€ƒ<a hidden class=anchor aria-hidden=true href=#-åƒè€ƒ>#</a></h1><ul><li>Gentoo Handbookï¼š<a href=https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation>https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation</a></li><li>Bitbiliï¼š<a href=https://bitbili.net/gentoo-linux-installation-and-usage-tutorial.html>https://bitbili.net/gentoo-linux-installation-and-usage-tutorial.html</a></li><li>Rufusï¼š<a href=https://rufus.ie/>https://rufus.ie/</a></li><li>æ™‚å€åˆ—è¡¨ï¼ˆtz databaseï¼‰ï¼š<a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://zakk.au/tags/gentoo/>Gentoo</a></li><li><a href=https://zakk.au/tags/linux/>Linux</a></li><li><a href=https://zakk.au/tags/openrc/>OpenRC</a></li><li><a href=https://zakk.au/tags/systemd/>Systemd</a></li><li><a href=https://zakk.au/tags/kde/>KDE</a></li><li><a href=https://zakk.au/tags/gnome/>GNOME</a></li><li><a href=https://zakk.au/tags/ssh/>SSH</a></li><li><a href=https://zakk.au/tags/wayland/>Wayland</a></li><li><a href=https://zakk.au/tags/btrfs/>Btrfs</a></li><li><a href=https://zakk.au/tags/uefi/>UEFI</a></li><li><a href=https://zakk.au/tags/nvidia/>NVIDIA</a></li><li><a href=https://zakk.au/tags/amd/>AMD</a></li><li><a href=https://zakk.au/tags/intel/>Intel</a></li><li><a href=https://zakk.au/tags/iwd/>Iwd</a></li><li><a href=https://zakk.au/tags/wpa_supplicant/>Wpa_supplicant</a></li></ul><nav class=paginav><a class=next href=https://zakk.au/zh-hant/posts/life-update/><span class=title>Next Â»</span><br><span>è¿‘æ³æ›´æ–°</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zakk.au/>Zakk's Homepage</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>